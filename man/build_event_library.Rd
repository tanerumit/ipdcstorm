% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/hazard_downscale.R
\name{build_event_library}
\alias{build_event_library}
\title{Build an empirical event library for resampling (seasonality + stratified events)}
\usage{
build_event_library(
  track_df,
  event_df,
  sev_levels = c("TD", "TS", "HUR"),
  bins = list(wind = c(0, 34, 64, 83, 96, 113, Inf), Pc = c(850, 900, 940, 970, 1000,
    1050), RMW = c(0, 10, 20, 30, 40, 60, Inf)),
  seed = NULL,
  resampling_method = c("stratified", "copula_nn"),
  copula_min_n = 30L,
  copula_k = 1L,
  copula_robust_scale = TRUE
)
}
\arguments{
\item{track_df}{Track-point tibble for a single location, with columns \code{SID} and \code{iso_time}.}

\item{event_df}{Storm-event tibble (one row per SID) with at least \code{SID}.
Recommended: \code{peak_wind_kt}, \code{storm_intensity_kt}, \code{min_pressure_hpa},
\code{rmw_mean_km}, \code{start_time}.}

\item{sev_levels}{Character vector of class levels.}

\item{bins}{List of break vectors for stratification (wind, Pc, RMW).}

\item{seed}{Optional integer seed.}

\item{resampling_method}{Character; one of {"stratified","copula_nn"}.
Default "stratified" preserves existing behavior.}

\item{copula_min_n}{Integer; minimum complete-case sample size per class needed to fit copula.}

\item{copula_k}{Integer; number of nearest neighbours to sample from after copula proposal (>=1).}

\item{copula_robust_scale}{Logical; if TRUE use median/MAD scaling for NN distance, else mean/SD.}
}
\value{
A list with DOY samples, stratification bins, the event table, and sampler functions.
}
\description{
Constructs (1) empirical day-of-year (DOY) samples by class and
(2) stratified bins of historical events for resampling.
}
